package com.cloud.shiro.controller;import org.apache.ibatis.annotations.Param;import org.apache.shiro.SecurityUtils;import org.apache.shiro.authc.IncorrectCredentialsException;import org.apache.shiro.authc.UnknownAccountException;import org.apache.shiro.authc.UsernamePasswordToken;import org.apache.shiro.subject.Subject;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.PostMapping;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RestController;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import java.io.IOException;/** * @Author zhouTao * @Date 2023/2/14 */@Controller@RequestMapping("user")public class UserController {    /**     * 用户登录     * @param username 用户     * @param password 密码     * @return 登录信息     */    @RequestMapping("/login")    public String login(String username, String password) {        //获取主题对象        Subject subject = SecurityUtils.getSubject();        try {            subject.login(new UsernamePasswordToken(username,password));            System.out.println("登录成功！！！");            return "redirect:/index.jsp";        } catch (UnknownAccountException e) {            e.printStackTrace();            System.out.println("用户错误！！！");        } catch (IncorrectCredentialsException e) {            System.out.println("密码错误！！！");        }        return "redirect:/login.jsp";    }    @GetMapping("/logout")    public String logout(){        Subject subject = SecurityUtils.getSubject();        subject.logout();        // 退出后仍然会到登录页面        return "redirect:/login.jsp";    }}